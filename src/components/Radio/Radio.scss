@import '../../css/scss/abstracts/variables';
@import '../../css/scss/abstracts/mixins';

/*------------------------------------*\
    #RADIO BUTTON
\*------------------------------------*/

/**
 * A custom individual radio control
 * 1) Outer wrapper div for custom control
 * 2) Determines width and height of the control
 * 3) Prevents control from being "squished" in 
 *    a flexbox parent
 */
.cn-c-radio {
  position: relative;
  display: block;
  width: size(2.5); /* 2 */
  height: size(2.5); /* 2 */
  flex: none; /* 3 */
}

/**
 * Radio control input
 * 1) Make control dimensions same as outer container
 * 2) Hide native form controls
 */
.cn-c-radio__input {
  position: absolute;
  top: 0; /* 1 */
  right: 0; /* 1 */
  bottom: 0; /* 1 */
  left: 0; /* 1 */
  z-index: 4;
  display: block;
  width: 100%; /* 1 */
  height: 100%; /* 1 */
  cursor: pointer;
  opacity: 0; /* 2 */

  &:disabled {
    cursor: not-allowed;
  }
}

/**
 * Custom radio
 * 1) Make control dimensions same as outer container
 */
.cn-c-radio__custom-radio {
  position: absolute;
  top: 0; /* 1 */
  right: 0; /* 1 */
  bottom: 0; /* 1 */
  left: 0; /* 1 */
  z-index: 1;

  /**
     * Custom radio background 
     * 1) Make control dimensions same as outer container
     * 2) Stack background behind radio foreground
     */
  &:before {
    content: '';
    position: absolute;
    top: 0; /* 1 */
    right: 0; /* 1 */
    bottom: 0; /* 1 */
    left: 0; /* 1 */
    z-index: 1; /* 2 */
    display: block;
    border: $border-width-med solid $color-brand-blue;
    border-radius: 50%;
    background: transparent;

    /**
      *  Custom radio background inside of focused control 
      */
    .cn-c-radio__input:focus + & {
      box-shadow: 0 0 0 $border-width-large $color-focus;
      @include focusTransparent;
    }

    /**
      *  Custom radio background inside of disabled control 
      */
    .cn-c-radio__input:disabled + & {
      border-color: $color-neutral-gray-20;
      cursor: not-allowed;
    }

    .cn-c-radio--inverted & {
      border-color: $color-neutral-white;
    }
  }

  /**
     * Custom radio inner circle
     * 1) Position circle in center of box
     * 2) Show/hide circle based on if input is checked
     */
  &:after {
    content: '';
    position: absolute;
    top: 6px; /* 1 */
    right: 6px; /* 1 */
    bottom: 6px; /* 1 */
    left: 6px; /* 1 */
    z-index: 2;
    display: block;
    opacity: 0;
    border: 4px solid $color-brand-blue;
    border-radius: 50%;
    background: $color-brand-blue;
    opacity: 0; /* 2 */

    .cn-c-radio__input:checked + & {
      opacity: 1; /* 2 */
    }

    .cn-c-radio--inverted & {
      border-color: $color-neutral-white;
    }
  }
}
